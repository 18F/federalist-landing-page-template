
<!-- Popup = {{ site.popup }} -->
<div class="popup-frame">
  <div class="paper">
    <div class="popup">
      <p>{{ site.popup_copy }}</p>
      <button type="button" name="button">Ok</button>
    </div>
  </div>
</div>


<!-- Pop-up CSS ======================================= -->
<style media="screen">
.popup-frame {
  display: none;
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  background: rgba(17, 17, 17, 0.85);
}

.popup-frame .close {
  color: #004874;
  text-align: center;
  display: block;
}
.popup-frame .paper {
  padding: 30px 30px 35px 30px;
  background: #009AFA;
  background: #fff;
  width: 40%;
  position: absolute;
  left: 30%;
  top: 15%;
  border: 5px #004874 solid;
}
.popup-frame .paper .popup {
  font-size: 2.3rem;
  color: #004874;
}
.popup-frame .paper .popup p {
  margin: 0 0 1.5rem 0;
}
.popup-frame .paper .popup button {
  margin: 0;
  font-size: 1.8rem;
}
.popup-frame .paper .popup button:disabled {
  background-color: #878f98;
}
.popup-frame .paper .popup label{
  font-size: .8em;
}
.popup-frame .paper .popup input#pass{
  margin: .35em 0;
  border: none;
  font-size: 2.5rem;
  padding: 0.15em .3em;
  border: 2px #004874 solid;
}
.popup-frame .paper .popup input#pass.valid{
  border: 2px #008531 solid;
}

.popup-frame .paper .popup input#pass::-webkit-input-placeholder { /* Chrome/Opera/Safari */
  color: #777;
}
.popup-frame .paper .popup input#pass::-moz-placeholder { /* Firefox 19+ */
  color: #777;
}
.popup-frame .paper .popup input#pass:-ms-input-placeholder { /* IE 10+ */
  color: #777;
}
.popup-frame .paper .popup input#pass:-moz-placeholder { /* Firefox 18- */
  color: #777;
}
</style>



<!-- jQuery =======================================-->
<script
  src="https://code.jquery.com/jquery-3.3.1.slim.js"
  integrity="sha256-fNXJFIlca05BIO2Y5zh1xrShK3ME+/lYZ0j+ChxX2DA="
  crossorigin="anonymous"></script>

<!-- Popup JS =======================================-->
<script type="text/javascript">

  // Sets the Cookie â€” invalidates after an hour
  function setCookie(key, value) {
    var expires = new Date();
    expires.setTime(expires.getTime() + (60 * (60 * 1000)) );
    document.cookie = key + '=' + value + ';expires=' + expires.toUTCString() + "; path=/";
  }

  // Gets the Cookie
  function getCookie(key) {
    var keyValue = document.cookie.match('(^|;) ?' + key + '=([^;]*)(;|$)');
    return keyValue ? keyValue[2] : null;
  }

  (function($){
    jQuery(document).ready(function() {

      // Checks to see if there is a cookie
      if (getCookie('work_in_progress') == 'true') {
        // YES! there is, so let's hide the popup
        $(".popup-frame").hide();
      } else {
        // No cookie here! Let's show the popup and set another cookie
        setCookie('work_in_progress','true');
        $(".popup-frame").show();
      }

      // Let's make it easy to clear this popup away
      // Click anywhere on the page
      var popup_type = "{{ site.popup }}";
      if (popup_type == 'previews-only') {
        {% unless site.env == "production" %}
          $( ".popup" ).click(function() {
            $(".popup-frame").hide();
          });
        {% endunless %}
      }

      if (popup_type == 'all-branches') {
        $( ".popup" ).click(function() {
          $(".popup-frame").hide();
        });
      }

    });
  })(jQuery);

</script>
